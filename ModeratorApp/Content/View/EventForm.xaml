<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ModeratorApp.EventForm"
             BackgroundColor="Transparent">

    <!-- Full-screen dimmed background -->
    <Grid BackgroundColor="#80000000"
          HorizontalOptions="Fill"
          VerticalOptions="Fill">

        <!-- Centered container -->
        <Grid HorizontalOptions="Center"
              VerticalOptions="Center"
              ColumnDefinitions="*,*"
              ColumnSpacing="20"
              Padding="10"
              MaximumWidthRequest="900"
              MinimumWidthRequest="300">

            <!-- Left Border -->
            <Border Grid.Column="0"
                    Padding="20"
                    Stroke="White"
                    StrokeThickness="3"
                    StrokeShape="RoundRectangle 20"
                    BackgroundColor="#1C1C1C"
                    HorizontalOptions="Fill"
                    VerticalOptions="Fill">

                <ScrollView>
                    <VerticalStackLayout x:Name="RoleStack" Spacing="10">
                        <Label Text="Papéis adicionados:"
                               TextColor="White"
                               VerticalOptions="Start"
                               HorizontalOptions="Center"
                               FontSize="20"/>
                    </VerticalStackLayout>
                </ScrollView>
            </Border>

            <!-- Right Border -->
            <Border Grid.Column="1"
                    Padding="20"
                    Stroke="White"
                    StrokeThickness="3"
                    StrokeShape="RoundRectangle 20"
                    BackgroundColor="#1C1C1C"
                    HorizontalOptions="Fill"
                    VerticalOptions="Fill">

                <Grid RowDefinitions="Auto,*,Auto">

                    <!-- Close Button -->
                    <Button Text="X"
                            BackgroundColor="Red"
                            TextColor="White"
                            CornerRadius="20"
                            BorderColor="White"
                            BorderWidth="2"
                            WidthRequest="40"
                            HeightRequest="40"
                            HorizontalOptions="End"
                            VerticalOptions="Start"
                            Clicked="OnCloseClicked"/>

                    <!-- Scrollable Content -->
                    <ScrollView Grid.Row="1">
                        <VerticalStackLayout Spacing="15"
                                             HorizontalOptions="Fill"
                                             VerticalOptions="Start"
                                             Padding="5">

                            <Label Text="Adicionar Evento"
                                   FontSize="24"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Center"
                                   TextColor="White"/>

                            <!-- Entries adapt width automatically -->
                            <Entry Placeholder="Event Name"
                                   x:Name="NameEntry"
                                   TextColor="Black"
                                   BackgroundColor="#F5F5F5"
                                   HorizontalOptions="Fill"/>

                            <Entry Placeholder="Event Description"
                                   x:Name="DescriptionEntry"
                                   TextColor="Black"
                                   BackgroundColor="#F5F5F5"
                                   HorizontalOptions="Fill"/>

                            <Label Text="Data de ocorrência do evento:"
                                   TextColor="White"/>
                            <DatePicker x:Name="DateEntry"
                                        BackgroundColor="White"/>

                            <Label Text="Hora de início e término do evento"
                                   TextColor="White"/>
                            <TimePicker x:Name="TimeBegin"
                                        BackgroundColor="White"/>
                            <TimePicker x:Name="TimeEnd"
                                        BackgroundColor="White"/>

                            <Entry Placeholder="Link"
                                   x:Name="LinkEntry"
                                   TextColor="Black"
                                   BackgroundColor="#F5F5F5"
                                   HorizontalOptions="Fill"/>

                            <Picker x:Name="RolePicker"
                                    Title="Escolha quais papéis adicionar:"
                                    TitleColor="White"
                                    SelectedIndexChanged="OnRolePickerChange"
                                    HorizontalOptions="Fill"
                                    BackgroundColor="White">
                                <Picker.Items>
                                </Picker.Items>
                            </Picker>
                            <Label/>
                        </VerticalStackLayout>
                    </ScrollView>

                    <!-- Add Button expands horizontally -->
                    <Button Grid.Row="2"
                            Text="Add"
                            BackgroundColor="#4CAF50"
                            TextColor="White"
                            CornerRadius="10"
                            HorizontalOptions="Fill"
                            HeightRequest="45"
                            Clicked="AddEventCard"/>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</ContentView>
